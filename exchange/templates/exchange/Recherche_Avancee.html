{% load static %}
<!DOCTYPE HTML>

<html>
	<head>
		<title>Elements Reference - Massively by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="{% static 'exchange/assets/css/main.css' %}" />
		<noscript><link rel="stylesheet" type="text.css" href="{% static 'exchange/assets/css/noscript.css' %}" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">
                <header id="header">
                    <a href="/exchange/accueil" class="logo">Accueil</a>
                </header>

            <!-- Nav -->
                <nav id="nav">
                    <ul class="links">
                        <li><a href="/exchange/accueil">Recherche par pays</a></li>
                        <li class="active"><a href="/exchange/recherche_avance">Recherche avancée</a></li>
                        <li><a href="/exchange/rajouter">Ajouter une info</a></li>
                    </ul>
                </nav>
                <div id="main">
                    <header class="major">
                        <h1>Recherche<br />
                        Avancée</h1>
                        <p>Recherchez les infos dont vous avez besoin</p>
                    </header>
                    <h3>Filtrer les Universitées selon:</h3>
                    <div class="table-wrapper">
                        <form action="{% url 'RechercheAvancee' %}"  method="post">
                            {% csrf_token %}
                            <label for="id_Continent">Continent&nbsp;:</label>
                            <select name="Continent" required="" onchange="myFunction()" id="id_Continent">
                                <option value="" selected="">---------</option>
                                <option value="AS">Asie</option>
                                <option value="AF">Afrique</option>
                                <option value="AdN">Amerique du Nord</option>
                                <option value="AdS">Amerique du Sud</option>
                                <option value="EU">Europe</option>
                                <option value="OC">Oceanie</option>
                              </select>
                            <label for="id_CountryName">Countryname&nbsp;:</label>
                            <select name="CountryName" id="testt">
                                <option value="" >(pas trier par pays)</option>  
                                {% for c in ttl %}
                                <option value="{{ c.CountryName }}" id="{{c.ID}}" style="display:none;">{{ c.CountryName }}</option>
                                {% endfor %}
                            </select>
                            {{ formContract.as_p }}
                            <h3>Ordonner les Universitées selon:</h3>
                            {{ ordre.as_p }}
                            <!--
                            {% for field in selections %}
                                <label>
                                    <input type="checkbox" id="{{ field.name }}" name="{{ field.name }}">
                                    <label for="{{ field.name }}">{{ field.name }}</label>
                                </label>
                            {% endfor %}
                            {{ form2.as_p }}
                            {{ formContract.as_p }}
                            {{ ordre.as_p }}
                            {% if valide %}
                            <input type="submit" value="Submit">
                            {% else %}
                            <input type="submit" value="ok">
                            {% endif %}
                            -->
                            <input id="buton" type="submit" value="Submit">
                        </form>
                    </div>
                    {% if valide %}
                    <p>Nombre d'éléments trouvés : {{universitiesC.count}}</p>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nom</th>
                                    <th>Note du département</th>
                                    <th>Qualité de vie</th>
                                    <th>Ville</th>
                                    <th>Pays</th>
                                    <th>Demande</th>
                                    <th>Contract</th>

                                </tr>
                            </thead>
                            <tbody>
                                {% for u in universitiesC %}
                                <tr>
                                    <td><a href=/exchange/universite/{{u.University.ID}}>{{u.University.Name}}</a></td>
                                    <td>{{u.University.RankMetric}}</td>
                                    <td>{{u.University.LifeMetric}}</td>
                                    <td>{{u.University.City.CityName}}</td>
                                    <td>{{u.University.City.Country.CountryName}}</td>
                                    <td>{{u.University.Demand}}</td>
                                    <td>{{u.ContractType}}</td>
                                </tr>
                                {% endfor %}                                        
                            </tbody>
                        </table>
                    </div>
                    {% endif %}
                </div>
            </div>


            <div id="copyright">
                <ul><li>&copy; Untitled</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
            </div>
                    
            <script src="{% static 'exchange/assets/js/jquery.min.js' %}"></script>
            <script src="{% static 'exchange/assets/js/jquery.scrollex.min.js' %}"></script>
            <script src="{% static 'exchange/assets/js/jquery.scrolly.min.js' %}"></script>
            <script src="{% static 'exchange/assets/js/browser.min.js' %}"></script>
            <script src="{% static 'exchange/assets/js/breakpoints.min.js' %}"></script>
            <script src="{% static 'exchange/assets/js/util.js' %}"></script>
            <script src="{% static 'exchange/assets/js/main.js' %}"></script>
            
            <script>
                function myFunctiontest() {
                    document.getElementById("buton").click()
                }
                function myFunction() {
                    var cont = document.getElementById("id_Continent").value
                    console.log(cont)
                    //document.getElementById("AS").setAttribute('style', 'display:block');
                    //document.getElementById("AS").setAttribute('style', 'display:block');
                    {% for c in ttl %}
                        document.getElementById("{{c.ID}}").setAttribute('style', 'display:none;');
                    {% endfor %}
                    
                    if(cont=='AS'){
                        {% for c in AS %}
                            document.getElementById("{{c.ID}}").setAttribute('style', 'display:block');
                        {% endfor %}
                    }else if(cont=='AF'){
                        {% for c in AF %}
                            document.getElementById("{{c.ID}}").setAttribute('style', 'display:block');
                        {% endfor %}
                    }else if(cont=='AdN'){
                        {% for c in AdN %}
                            document.getElementById("{{c.ID}}").setAttribute('style', 'display:block');
                        {% endfor %}
                    }else if(cont=='AdS'){
                        {% for c in AdS %}
                            document.getElementById("{{c.ID}}").setAttribute('style', 'display:block');
                        {% endfor %}
                    }else if(cont=='EU'){
                        {% for c in EU %}
                            document.getElementById("{{c.ID}}").setAttribute('style', 'display:block');
                        {% endfor %}
                    }else if(cont=='OC'){
                        {% for c in OC %}
                            document.getElementById("{{c.ID}}").setAttribute('style', 'display:block');
                        {% endfor %}
                    }

                }
                

            </script>
    </body>
</html>
